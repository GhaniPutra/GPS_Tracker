# TODO: Many-to-Many User Connection System

## Phase 1: Firebase Setup & Security Rules
- [ ] 1. Design Firebase Realtime Database structure
- [ ] 2. Write Firebase Security Rules for RTDB
- [ ] 3. Create database rules documentation

## Phase 2: Service Layer
- [ ] 4. Create `invite_service.dart` (create, validate, consume invite codes)
- [ ] 5. Create `relation_service.dart` (manage bidirectional relations)
- [ ] 6. Create `location_service.dart` (location sharing with permissions)
- [ ] 7. Create `user_model.dart` (data models)

## Phase 3: State Management
- [ ] 8. Create `connection_provider.dart` (state management for connections)
- [ ] 9. Integrate with existing AuthProvider

## Phase 4: UI Implementation
- [ ] 10. Update `group_bottom_sheet.dart` with invite code flow
- [ ] 11. Create `invite_code_bottom_sheet.dart` (enter code UI)
- [ ] 12. Create `member_card_widget.dart` (connection card with revoke)
- [ ] 13. Update `home_screen.dart` to show connected users on map

## Phase 5: Edge Cases & Testing
- [ ] 14. Handle expired invites
- [ ] 15. Handle revoked relations
- [ ] 16. Handle concurrent invites
- [ ] 17. Handle offline/online states

## Phase 6: Documentation
- [ ] 18. Create API documentation
- [ ] 19. Write user flow documentation
- [ ] 20. Update README with new features

---

## Progress: 0/20 tasks completed
## Current Phase: Phase 1 - Firebase Setup & Security Rules

